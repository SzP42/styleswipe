import{s as nt,e as a,a as d,c as l,b as J,l as g,g as h,f as O,m as at,o as x,i as lt,h as t,p as R,q as E,n as tt,r as st}from"../chunks/scheduler._B5voGmU.js";import{S as ot,i as rt}from"../chunks/index.BJGwIB0l.js";import{s as et}from"../chunks/supabaseClient.C2q4Lq3a.js";function it(u){let o,p,_="Welcome to StyleSwipe",b,e,C,I="Sign up",k,n,f,B="E-mail:",q,r,L,U,$,y,K="Password:",A,m,H,N,W,w,V="Join StyleSwipe",M,S,Y="Or",j,P,Z="Sign up with Google",z,D,G,T,Q='Already have an account? <a href="/login">Log in</a>',F,X;return{c(){o=a("body"),p=a("h1"),p.textContent=_,b=d(),e=a("div"),C=a("h3"),C.textContent=I,k=d(),n=a("form"),f=a("label"),f.textContent=B,q=d(),r=a("input"),L=a("br"),U=a("br"),$=d(),y=a("label"),y.textContent=K,A=d(),m=a("input"),H=a("br"),N=a("br"),W=d(),w=a("button"),w.textContent=V,M=d(),S=a("p"),S.textContent=Y,j=d(),P=a("button"),P.textContent=Z,z=d(),D=a("hr"),G=d(),T=a("p"),T.innerHTML=Q,this.h()},l(c){o=l(c,"BODY",{class:!0});var v=J(o);p=l(v,"H1",{style:!0,"data-svelte-h":!0}),g(p)!=="svelte-1bkhk26"&&(p.textContent=_),b=h(v),e=l(v,"DIV",{class:!0});var i=J(e);C=l(i,"H3",{"data-svelte-h":!0}),g(C)!=="svelte-1r4pp8"&&(C.textContent=I),k=h(i),n=l(i,"FORM",{});var s=J(n);f=l(s,"LABEL",{for:!0,"data-svelte-h":!0}),g(f)!=="svelte-9iq5kf"&&(f.textContent=B),q=h(s),r=l(s,"INPUT",{type:!0,id:!0}),L=l(s,"BR",{}),U=l(s,"BR",{}),$=h(s),y=l(s,"LABEL",{for:!0,"data-svelte-h":!0}),g(y)!=="svelte-14l7qdc"&&(y.textContent=K),A=h(s),m=l(s,"INPUT",{type:!0,id:!0}),H=l(s,"BR",{}),N=l(s,"BR",{}),W=h(s),w=l(s,"BUTTON",{"data-svelte-h":!0}),g(w)!=="svelte-ard1v6"&&(w.textContent=V),s.forEach(O),M=h(i),S=l(i,"P",{"data-svelte-h":!0}),g(S)!=="svelte-93986n"&&(S.textContent=Y),j=h(i),P=l(i,"BUTTON",{"data-svelte-h":!0}),g(P)!=="svelte-5z4g7e"&&(P.textContent=Z),z=h(i),D=l(i,"HR",{}),G=h(i),T=l(i,"P",{"data-svelte-h":!0}),g(T)!=="svelte-o7q3nv"&&(T.innerHTML=Q),i.forEach(O),v.forEach(O),this.h()},h(){at(p,"text-align","center"),x(f,"for","email"),x(r,"type","email"),x(r,"id","email"),x(y,"for","password"),x(m,"type","password"),x(m,"id","password"),x(e,"class","signup_panel svelte-1quwjmp"),x(o,"class","svelte-1quwjmp")},m(c,v){lt(c,o,v),t(o,p),t(o,b),t(o,e),t(e,C),t(e,k),t(e,n),t(n,f),t(n,q),t(n,r),R(r,u[0]),t(n,L),t(n,U),t(n,$),t(n,y),t(n,A),t(n,m),R(m,u[1]),t(n,H),t(n,N),t(n,W),t(n,w),t(e,M),t(e,S),t(e,j),t(e,P),t(e,z),t(e,D),t(e,G),t(e,T),F||(X=[E(r,"input",u[4]),E(m,"input",u[5]),E(w,"click",u[6]),E(P,"click",u[3])],F=!0)},p(c,[v]){v&1&&r.value!==c[0]&&R(r,c[0]),v&2&&m.value!==c[1]&&R(m,c[1])},i:tt,o:tt,d(c){c&&O(o),F=!1,st(X)}}}function ut(u){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*/<>,.+-=~$ÃŸ]).{6,}$/.test(u)}function pt(u,o,p){let _="",b="";async function e(f,B){if(!ut(B))alert("Password must be at least 6 characters long, must contain lowercase, uppercase, a number and a special character");else try{const{data:r,error:L}=await et.auth.signUp({email:f,password:B,options:{emailRedirectTo:"/welcome"}});return alert(`Confirm your email! We've sent a confirmation email to ${_}`),r}catch(r){console.error(r)}}async function C(){await et.auth.signInWithOAuth({provider:"google",options:{redirectTo:"/auth/callback"}})}function I(){_=this.value,p(0,_)}function k(){b=this.value,p(1,b)}return[_,b,e,C,I,k,()=>e(_,b)]}class ft extends ot{constructor(o){super(),rt(this,o,pt,it,nt,{})}}export{ft as component};
